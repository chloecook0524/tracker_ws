1. MCTrack 리퍼지토리 설치 & 가상환경 생성
2. conda activate mctrack(가상환경이름)
3. roscore
4. tracker_ws catkin_make 해주기
5. ~/tracker_ws/src/mctrack_tracker/scripts$ python convert_nuscenes_to_results.py 로 valsplit gt json파일생성 
6. ~/tracker_ws$ roslaunch mctrack_tracker run_eval.launch 실행
7. ~/tracker_ws/src/mctrack_tracker/scripts$ python filter_results.py   --input ~/nuscenes_tracking_results.json   --output ~/SOTA/MCTrack/results/nuscenes/mctrack_custom/results.json 트래킹 결과 MCTrack 평가기준에 맞춰 필터링
8. ~/SOTA/MCTrack$ python evaluation/static_evaluation/nuscenes/eval.py results/nuscenes/mctrack_custom/results.json 필터링된 결과를 MCTrack 내부 평가 툴킷으로 성능평가


   
< 현재 tracker 성능 >
### Final Results (Updated 25.04.16 - First stage(BEV) Only)
| Class    | AMOTA | AMOTP | RECALL | MOTAR | GT     | MOTA  | MOTP  | MT   | ML | FAF  | TP    | FP    | FN   | IDS | FRAG | TID  | LGD  |
|----------|-------|-------|--------|-------|--------|-------|-------|------|----|------|--------|--------|------|------|------|------|------|
| bicycle  | 0.703 | 0.112 | 0.987  | 0.721 | 1993   | 0.711 | 0.064 | 153  | 0  | 35.3 | 1965   | 548    | 25   | 3    | 5    | 0.04 | 0.07 |
| bus      | 0.846 | 0.051 | 0.995  | 0.868 | 2112   | 0.863 | 0.001 | 107  | 0  | 17.5 | 2101   | 278    | 11   | 0    | 3    | 0.00 | 0.05 |
| car      | 0.730 | 0.106 | 0.989  | 0.768 | 58317  | 0.750 | 0.006 | 3614 | 10 | 228.5| 56933  | 13189  | 654  | 730  | 206  | 0.03 | 0.07 |
| motorcy  | 0.810 | 0.096 | 0.993  | 0.844 | 1977   | 0.831 | 0.048 | 132  | 0  | 21.7 | 1945   | 303    | 14   | 18   | 3    | 0.03 | 0.04 |
| pedestr  | 0.817 | 0.115 | 0.990  | 0.838 | 25423  | 0.821 | 0.063 | 1676 | 3  | 92.1 | 24901  | 4040   | 266  | 256  | 103  | 0.02 | 0.05 |
| trailer  | 0.916 | 0.054 | 0.998  | 0.940 | 2425   | 0.935 | 0.004 | 133  | 0  | 14.9 | 2414   | 146    | 6    | 5    | 1    | 0.01 | 0.02 |
| truck    | 0.818 | 0.052 | 0.998  | 0.839 | 9650   | 0.833 | 0.002 | 539  | 0  | 41.7 | 9581   | 1540   | 22   | 47   | 8    | 0.00 | 0.02 |


#### Aggregated results

| Metric     | Value  |
|------------|--------|
| AMOTA      | 0.806  |
| AMOTP      | 0.084  |
| RECALL     | 0.993  |
| MOTAR      | 0.831  |
| GT         | 14556  |
| MOTA       | 0.821  |
| MOTP       | 0.027  |
| MT         | 6354   |
| ML         | 13     |
| FAF        | 64.5   |
| TP         | 99840  |
| FP         | 20044  |
| FN         | 998   |
| IDS        | 1059   |
| FRAG       | 329    |
| TID        | 0.02   |
| LGD        | 0.05   |
| Eval Time  | 123.0s   |


### Per-class Results (Updated 25.04.17 - with Secondary-stage(Image reprojection))

| Class     | AMOTA | AMOTP | RECALL | MOTAR | GT    | MOTA  | MOTP  | MT   | ML | FAF  | TP    | FP    | FN  | IDS | FRAG | TID  | LGD  |
|-----------|-------|-------|--------|-------|-------|-------|-------|------|----|------|--------|--------|-----|------|------|------|------|
| bicycle   | 0.704 | 0.117 | 0.985  | 0.720 | 1993  | 0.708 | 0.060 | 153  | 1  | 35.6 | 1961   | 549    | 30  | 2    | 3    | 0.08 | 0.09 |
| bus       | 0.849 | 0.050 | 0.995  | 0.871 | 2112  | 0.866 | 0.000 | 107  | 0  | 17.2 | 2101   | 271    | 11  | 0    | 3    | 0.00 | 0.05 |
| car       | 0.769 | 0.056 | 0.990  | 0.789 | 58317 | 0.771 | 0.006 | 3621 | 9  | 208.4| 57013  | 12025  | 577 | 727  | 201  | 0.02 | 0.06 |
| motorcy   | 0.816 | 0.063 | 0.993  | 0.847 | 1977  | 0.835 | 0.014 | 132  | 0  | 21.2 | 1949   | 298    | 14  | 14   | 2    | 0.03 | 0.04 |
| pedestr   | 0.819 | 0.110 | 0.990  | 0.838 | 25423 | 0.823 | 0.059 | 1678 | 1  | 91.7 | 24957  | 4034   | 263 | 203  | 102  | 0.02 | 0.05 |
| trailer   | 0.921 | 0.054 | 0.997  | 0.944 | 2425  | 0.939 | 0.004 | 133  | 0  | 13.7 | 2412   | 134    | 7   | 6    | 1    | 0.02 | 0.03 |
| truck     | 0.826 | 0.052 | 0.998  | 0.847 | 9650  | 0.841 | 0.002 | 540  | 0  | 39.4 | 9582   | 1464   | 22  | 46   | 9    | 0.00 | 0.02 |


### Aggregated Results

| Metric    | Value  |
|-----------|--------|
| AMOTA     | 0.815  |
| AMOTP     | 0.072  |
| RECALL    | 0.992  |
| MOTAR     | 0.837  |
| GT        | 14556  |
| MOTA      | 0.826  |
| MOTP      | 0.021  |
| MT        | 6364   |
| ML        | 11     |
| FAF       | 61.0   |
| TP        | 99975  |
| FP        | 18775  |
| FN        | 924    |
| IDS       | 998    |
| FRAG      | 321    |
| TID       | 0.02   |
| LGD       | 0.05   |
| Eval Time | 122.5s |




< 참고 >
mctrack_tracker_node_base.py : 칼만필터만 적용된 베이스 트래커, 성능은 이하와 같음
### Final results

| Class     | AMOTA | AMOTP | RECALL | MOTAR |   GT     | MOTA | MOTP | MT   | ML |  FAF  |   TP   |    FP     |  FN  | IDS | FRAG |  TID |  LGD |
|-----------|-------|-------|--------|-------|----------|------|------|------|----|-------|--------|-----------|------|-----|------|------|------|
| bicycle   | 0.647 | 0.104 | 0.998  | 0.681 | 19930.659| 0.004|      | 156  | 0  |  41.3 |  1927  |   614     | 462  |  3  |      | 0.00 | 0.01 |
| bus       | 0.225 | 0.353 | 0.983  | 0.273 | 21120.233| 0.004|      | 106  | 0  |  84.4 |  1803  | 131135    |      |274  |  4   | 0.00 | 0.11 |
| car       | 0.170 | 0.308 | 0.994  | 0.200 |583170.174| 0.009|      | 3670 | 0  | 702.8 | 50712  |40554338   |      |7267 | 123  | 0.00 | 0.04 |
| motorcycle| 0.041 | 0.365 | 0.998  | 0.049 | 19770.041| 0.019|      | 132  | 0  | 111.4 |  1659  |15774314   |      | 2   |      | 0.00 | 0.01 |
| pedestrian| 0.764 | 0.212 | 0.991  | 0.804 |254230.780| 0.118|      | 1684 | 0  | 110.8 | 24662  | 4830240   |      |521  |  98  | 0.00 | 0.05 |
| trailer   | 0.703 | 0.105 | 1.000  | 0.740 | 24250.710| 0.006|      | 133  | 0  |  60.6 |  2327  |   606     |  98  | 0   |      | 0.00 | 0.00 |
| truck     | 0.484 | 0.203 | 0.999  | 0.538 | 96500.494| 0.003|      | 541  | 0  | 110.8 |  8852  |  408811   |      | 787 |  5   | 0.00 | 0.01 |


| Metric | Value  |
|--------|--------|
| AMOTA  | 0.433  |
| AMOTP  | 0.236  |
| RECALL | 0.995  |
| MOTAR  | 0.469  |
| GT     | 14556  |
| MOTA   | 0.442  |
| MOTP   | 0.023  |
| MT     | 6422   |
| ML     | 0      |
| FAF    | 174.6  |
| TP     | 91942  |
| FP     | 53580  |
| FN     | 632    |
| IDS    | 9323   |
| FRAG   | 235    |
| TID    | 0.00   |
| LGD    | 0.03   |
| Eval time | 115.5s |
 



mctrack_tracker_node.py 수정하면서 성능 높이면 될 듯
